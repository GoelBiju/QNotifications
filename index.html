<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Qnotifications by dschreij</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Qnotifications</h1>
      <h2 class="project-tagline">Pretty in-app notifications for PyQt4/5</h2>
      <a href="https://github.com/dschreij/QNotifications" class="btn">View on GitHub</a>
      <a href="https://github.com/dschreij/QNotifications/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/dschreij/QNotifications/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://anaconda.org/cogsci/python-qnotifications/badges/installer/conda.svg" alt="">
<img src="https://anaconda.org/cogsci/python-qnotifications/badges/version.svg" alt="">
<img src="https://anaconda.org/cogsci/python-qnotifications/badges/license.svg" alt=""></p>

<h1>
<a id="qnotifications" class="anchor" href="#qnotifications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>QNotifications</h1>

<p>brings pretty in-app notifications to PyQt. We are used to seeing such notifications in many web applications nowadays (as an example, see <a href="http://s-alert-demo.meteorapp.com">sAlert</a>), but functionality like this was still lacking in PyQt. QNotifications aims to provide a system that can display several types of notifications (info, errors, warnings, etc.) and can easily be plugged into existing PyQt projects. To integrate this module into existing applications just pass it a widget on which it should render the notifications.</p>

<p>I designed this system with the <a href="https://developer.gnome.org/hig/stable/in-app-notifications.html.en">Gnome UI guidlines for in-app notifications</a> in mind.However, I do deviate from them at some points. For example, QNotifications currently allows multiple notifications to be displayed simultaneously (they will be stacked on top of each other), while best practice is to display multiple notifications sequentially but only one a the time. Additionally, QNotifications currently does not offer the possibility to display a button to undertake an action inside a notification.</p>

<p>This project is still in the starting blocks and does not offer many options for customisation yet. Notifications are always positioned at the top of the target widget and take up the whole width (with a margin). The only currently supported animation style is fading (in and out), or not to use any animation at all. In the future, more options will be added, but for now I have just focussed on maximizing the stability of this module.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>QNotifications can easily be installed using pip</p>

<pre><code>pip install python-qnotifications
</code></pre>

<p>If you are using the Anaconda Python distribution (by which you will be doing yourself a big favor), the module is also available as a conda package in the cogsci channel on anaconda.org</p>

<pre><code>conda install python-qnotifications -c cogsci
</code></pre>

<p>Alternatively, you can just clone this repository and install it yourself</p>

<pre><code>git clone https://github.com/dschreij/QNotifications
cd QNotifications
python setup.py install
</code></pre>

<h3>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h3>

<p>QNotifications of course heavily relies on PyQt and the abstraction layer qtpy, which makes it easier to write code that works PyQt4 and 5 at the same time, but that should be all you need to make it work.</p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h2>

<p>The module comes with a ready to run example (pending that the dependencies are installed). To see what QNotifications has in store, simply run:</p>

<pre><code>python example.py
</code></pre>

<p>and play around with the interface which offers various possibilities to display notifications.</p>

<p><img src="screenshot.png" alt="Example screenshot"></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>To use QNotifications, you have to initialize the QNotificationArea first, which is a transparent widget in which the notifications are to be displayed. This widget is overlayed on top of another widget already embedded in your application. This embedded widget has to be passed to the constructor of QNotificationArea.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> qtpy <span class="pl-k">import</span> QtWidgets, QtCore
<span class="pl-k">from</span> QNotifications <span class="pl-k">import</span> QNotificationArea

<span class="pl-c"># Create a widget to render the notifications on.</span>
targetWidget <span class="pl-k">=</span> QtWidgets.QWidget()
targetWidget.setGeometry(<span class="pl-c1">100</span>,<span class="pl-c1">100</span>,<span class="pl-c1">800</span>,<span class="pl-c1">600</span>)
<span class="pl-c"># Create a new notification area, and pass it the target widget.</span>
qna <span class="pl-k">=</span> QNotificationArea(targetWidget)
<span class="pl-c"># Show the target widget.</span>
targetWidget.show()

<span class="pl-c"># Show a 'primary' styled notification for 1 second.</span>
qna.display(<span class="pl-s"><span class="pl-pds">'</span>This is a primary notification<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>primary<span class="pl-pds">'</span></span>, <span class="pl-c1">1000</span>)
<span class="pl-c"># Show an 'info' styled notification for 2 seconds.</span>
qna.display(<span class="pl-s"><span class="pl-pds">'</span>This is an info notification<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>info<span class="pl-pds">'</span></span>, <span class="pl-c1">2000</span>)
<span class="pl-c"># Show a 'danger' styled notification until the user closes it manually.</span>
qna.display(<span class="pl-s"><span class="pl-pds">'</span>This is an error notification<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>danger<span class="pl-pds">'</span></span>, <span class="pl-c1">None</span>)</pre></div>

<p>The message can contain (a limited set of) HTML tags, which will be rendered correctly when the message is displayed.</p>

<h3>
<a id="animations" class="anchor" href="#animations" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Animations</h3>

<p>To enable animations, you have to specify the animation style, for which at the moment the only the only options are 'fadeIn', 'fadeOut' or None. All notifications will be displayed with that animation style from that moment on until a different animation style is specified.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># Make the notifications fade in in 500 milliseconds.</span>
qna.setEntryEffect(<span class="pl-s"><span class="pl-pds">'</span>fadeIn<span class="pl-pds">'</span></span>, <span class="pl-c1">500</span>)
<span class="pl-c"># Make the notifications fade out in 1 second.</span>
qna.setExitEffect(<span class="pl-s"><span class="pl-pds">'</span>fadeOut<span class="pl-pds">'</span></span>, <span class="pl-c1">1000</span>)

<span class="pl-c"># From now on, notifications will fade in in 500 ms and fade out in 1 second</span>

<span class="pl-c"># Show a 'succes' styled notification for 2 seconds.</span>
qna.display(<span class="pl-s"><span class="pl-pds">'</span>The thing you did succeeded!<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>, <span class="pl-c1">2000</span>)
<span class="pl-c"># Show a 'warning' styled notification for 2 seconds.</span>
qna.display(<span class="pl-s"><span class="pl-pds">'</span>Time to pay some attention<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>warning<span class="pl-pds">'</span></span>, <span class="pl-c1">2000</span>)</pre></div>

<h3>
<a id="signalslot-capabilities" class="anchor" href="#signalslot-capabilities" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signal/Slot capabilities</h3>

<p>The display() function of QNotificationArea also functions as a pyqt slot, expecting 3 arguments of type (str, str, int), corresponding to the contents of the message, its type, and the duration with which to display it. If one for instance would define a signal in an object that inherits from QtCore.QObject, the following is possible:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-en">Example</span>(<span class="pl-e">QtCore</span>.<span class="pl-e">QObject</span>):
    notify <span class="pl-k">=</span> QtCore.pyqtSignal(<span class="pl-c1">str</span>,<span class="pl-c1">str</span>,<span class="pl-c1">int</span>)

    <span class="pl-k">def</span> <span class="pl-c1">__init__</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-c">### Do some object initializations here where you also</span>
        <span class="pl-c">### create a QNotificationArea.</span>
        <span class="pl-v">self</span>.notify.connect(qna.display)
        <span class="pl-v">self</span>.notify.emit(<span class="pl-s"><span class="pl-pds">"</span>Object initialized<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>info<span class="pl-pds">"</span></span>,<span class="pl-c1">2000</span>)</pre></div>

<p>A notification can then be displayed from anywhere by just emitting the objects <em>notify</em> signal with the desired parameters.</p>

<h3>
<a id="styling" class="anchor" href="#styling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Styling</h3>

<p>QNotifications has been built in such a way that the appearance of its elements can be directly altered using QSS (which is Qt's variant of CSS). When not explicitly instructed to do otherwise, QNotifications will use the default styles, which are based on <a href="http://getbootstrap.com">bootstrap's</a> color coding principles. The standard styles are as follows:</p>

<div class="highlight highlight-source-css"><pre>    QNotification {
        <span class="pl-c1"><span class="pl-c1">font-size</span></span>: <span class="pl-c1">16<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">padding</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">margin</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">border-radius</span></span>: <span class="pl-c1">6<span class="pl-k">px</span></span>;
    }

    QNotification <span class="pl-e">#message</span>{
        <span class="pl-c1"><span class="pl-c1">color</span></span>: <span class="pl-c1">#FFFFFF</span>;
        <span class="pl-c1"><span class="pl-c1">padding</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">margin</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">width</span></span>: <span class="pl-c1">100<span class="pl-k">%</span></span>;
    }

    QNotification <span class="pl-e">#closeButton</span>{
        <span class="pl-c1"><span class="pl-c1">color</span></span>: <span class="pl-c1">#FFFFFF</span>;
        <span class="pl-c1"><span class="pl-c1">padding</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
        <span class="pl-c1"><span class="pl-c1">margin</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;
    }

    QNotification <span class="pl-e">#primary</span> {
        <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#337ab7</span>;
        <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#2e6da4</span>;
    }

    QNotification <span class="pl-e">#success</span> {
        <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#5cb85c</span>;
        <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#4cae4c</span>;
    }

    QNotification <span class="pl-e">#info</span> {
        <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#5bc0de</span>;
        <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#46b8da</span>;
    }

    QNotification <span class="pl-e">#warning</span> {
        <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#f0ad4e</span>;
        <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#eea236</span>;
    }

    QNotification <span class="pl-e">#danger</span> {
        <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#d9534f</span>;
        <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#d43f3a</span>;
    }</pre></div>

<p>To use a different (most of the time globally defined) style sheet, pass the useGlobalCSS flag to QNotificationArea when you initialize it:</p>

<div class="highlight highlight-source-python"><pre>qna <span class="pl-k">=</span> QNotificationArea(targetWidget, <span class="pl-v">useGlobalCSS</span><span class="pl-k">=</span><span class="pl-c1">True</span>)</pre></div>

<p>Pay attention though, that if you pass this flag and you don't have any entries for the QNotification items in your qss files, they will have no styling at all.</p>

<h2>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API</h2>

<p>All classes and functions are documented using ReST, and as soon as I figure out how to extract those contents and pour it into a nice API documentation page, I will place it on readthedocs or pydata. For now, I hope the examples given here will suffice as a 'usage manual'.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>QNotifications is distributed under the terms of the GNU General Public License 3. The full license should be included in the file <em>copyright</em>, or can be obtained from:</p>

<p><a href="http://www.gnu.org/licenses/gpl.txt">http://www.gnu.org/licenses/gpl.txt</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/dschreij/QNotifications">Qnotifications</a> is maintained by <a href="https://github.com/dschreij">dschreij</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
